{"version":3,"sources":["webpack:///webpack/bootstrap cb3c2f6f92f07e9ab050","webpack:///external \"dotenv\"","webpack:///external \"mongoose\"","webpack:///external \"babel-polyfill\"","webpack:///./server/controllers/pinController.server.js","webpack:///./server/server.js","webpack:///external \"es6-promise\"","webpack:///external \"isomorphic-fetch\"","webpack:///external \"express\"","webpack:///external \"morgan\"","webpack:///external \"compression\"","webpack:///external \"express-session\"","webpack:///external \"passport\"","webpack:///external \"connect-mongo\"","webpack:///external \"body-parser\"","webpack:///external \"cookie-parser\"","webpack:///./server/routes/index.server.js","webpack:///./server/models/Pin.js","webpack:///./server/config/authConfig.js","webpack:///./server/models/User.js","webpack:///external \"passport-github2\"","webpack:///external \"passport-twitter\"","webpack:///external \"http\"","webpack:///external \"socket.io\"","webpack:///./server/routes/socket.server.js"],"names":["path","process","cwd","load","DEV","PROD","root","req","res","sendFile","login","toggleLikePin","obj","JSON","parse","decodeURIComponent","params","data","title","img","owner","user","loggedUser","findOne","err","doc","console","error","likes","indexOf","splice","log","push","save","result","json","allPins","find","sort","created","exec","updateAllPins","socket","message","emit","unpinAll","remove","savePin","newPin","deletePin","polyfill","app","use","static","db","connection","Promise","connect","env","MONGO_URI","useMongoClient","MongoStore","urlencoded","extended","sess","secret","SECRET","resave","saveUninitialized","cookie","httpOnly","maxAge","store","mongooseConnection","name","set","secure","initialize","session","server","createServer","io","port","PORT","listen","routes","passport","next","headers","APP_URL","url","redirect","name_view","permissions","isAuthenticated","github","username","twitter","route","get","authenticate","successRedirect","failureRedirect","logout","post","delete","Schema","Pin","type","Date","required","default","expires","String","shares","model","GitHubStrategy","require","Strategy","TwitterStrategy","authConfig","serializeUser","done","id","deserializeUser","findById","consumerKey","TWITTER_CONSUMER_KEY","consumerSecret","TWITTER_CONSUMER_SECRET","callbackURL","token","tokenSecret","profile","cb","nextTick","newUser","displayName","clientID","GITHUB_KEY","clientSecret","GITHUB_SECRET","refreshToken","mongoose","User","ioEvents","on","serverSocket","setInterval","received"],"mappings":"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","file":"server.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cb3c2f6f92f07e9ab050","module.exports = require(\"dotenv\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dotenv\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"babel-polyfill\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-polyfill\"\n// module id = 2\n// module chunks = 0","'use strict'\n\n/*** ENVIRONMENT ***/\nconst path = process.cwd()\nimport dotenv from 'dotenv'\ndotenv.load()\n\n/*** DEVELOPMENT TOOLS ***/\nconst DEV = process.env.NODE_ENV === 'development'\nconst PROD = process.env.NODE_ENV === 'production'\n\n/*** MODEL ***/\nimport Pin from '../models/Pin.js'\n\n/*** FUNCTIONS ***/\n\n//Root view\nexport const root = (req, res) => {\n  res.sendFile(path + '/dist/index.html')\n}\n\n//Login view\nexport const login = (req, res) => {\n  res.sendFile(path + '/dist/login.html')\n}\n\n//Toggle Like Pin\nexport const toggleLikePin = (req, res) => {\n  const obj = JSON.parse(decodeURIComponent(req.params.data))\n  const title = obj.title\n  const img = obj.img\n  const owner = obj.owner\n  const user = obj.loggedUser\n\n  Pin.findOne(\n    {\n      title: title,\n      img: img,\n      owner: owner\n    },\n    (err, doc) => {\n      if (err) {\n        console.error(err)\n      }\n      if (doc) {\n        //If the user already liked the pin\n        if (doc.likes.indexOf(user) >= 0) {\n          //Remove the like\n          doc.likes.splice(doc.likes.indexOf(user), 1)\n          if (DEV) {\n            console.log('This pin has been unliked!')\n          }\n        } else {\n          //Otherwise add it - but don't add a null value as a like\n          if (user !== null) {\n            doc.likes.push(user)\n          }\n          if (DEV) {\n            console.log('This pin has been liked!')\n          }\n        }\n        //Save what happened\n        doc.save((err, result) => {\n          res.json('Saved' + result)\n        })\n      }\n    }\n  )\n}\n\n//Get all pins\nexport const allPins = (req, res) => {\n  Pin.find({})\n    //Show most recent first\n    .sort({ created: 'descending' })\n    .exec((err, doc) => {\n      if (err) {\n        console.error(err)\n      }\n      if (doc) {\n        res.json(doc)\n      }\n    })\n}\n\n//updateAllPins - web socket controller\nexport const updateAllPins = (socket, message) => {\n  Pin.find({})\n    //Show most recent first\n    .sort({ created: 'descending' })\n    .exec((err, doc) => {\n      if (err) {\n        console.error(err)\n      }\n      if (doc) {\n        socket.emit(message, doc)\n      }\n    })\n}\n\n//Delete all pins\nexport const unpinAll = (req, res) => {\n  Pin.remove({}, (err, doc) => {\n    res.json('All pins deleted.')\n  })\n}\n\n//Save new Pin\nexport const savePin = (req, res) => {\n  const obj = JSON.parse(decodeURIComponent(req.params.data))\n  const title = obj.title\n  const img = obj.img\n  const owner = obj.owner\n  Pin.findOne(\n    {\n      title: title,\n      img: img,\n      owner: owner\n    },\n    (err, doc) => {\n      if (err) {\n        console.error(err)\n      }\n      if (doc) {\n        res.json('You already pinned this!')\n      } else {\n        const newPin = new Pin({\n          title: title,\n          img: img,\n          owner: owner\n        })\n        newPin.save((err, doc) => {\n          if (err) {\n            console.error(err)\n          }\n          res.json('Your pin has been saved!')\n        })\n      }\n    }\n  )\n}\n\n//Delete Pin\nexport const deletePin = (req, res) => {\n  const obj = JSON.parse(decodeURIComponent(req.params.data))\n  const title = obj.title\n  const img = obj.img\n  const owner = obj.owner\n\n  Pin.remove(\n    {\n      title: title,\n      img: img,\n      owner: owner\n    },\n    (err, doc) => {\n      if (err) {\n        console.error(err)\n      }\n      if (doc) {\n        res.json('Your pin has been deleted.')\n      }\n    }\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/pinController.server.js","'use strict'\n\n/*** ES6+ ***/\nimport 'babel-polyfill'\nimport Promise from 'es6-promise'\nPromise.polyfill()\nimport 'isomorphic-fetch'\n\n/*** EXPRESS ***/\nimport express from 'express'\nconst app = express()\n\n/*** ENVIRONMENT ***/\nconst path = process.cwd()\nimport dotenv from 'dotenv'\ndotenv.load()\n\n/*** DEVELOPMENT TOOLS ***/\nconst DEV = process.env.NODE_ENV === 'development'\nconst PROD = process.env.NODE_ENV === 'production'\nimport morgan from 'morgan'\nDEV ? app.use(morgan('dev')) : app.use(morgan('tiny'))\nif (DEV) {\n  console.log('Development mode')\n}\n\n/*** ENABLE COMPRESSION ***/\nimport compression from 'compression'\nif (PROD) {\n  app.use(compression())\n}\n\n/*** MIDDLEWARE ***/\napp.use('/js', express.static(path + '/dist/js')) //The first argument creates the virtual directory used in index.html\napp.use('/styles', express.static(path + '/dist/styles'))\napp.use('/img', express.static(path + '/dist/img'))\napp.use('/fonts', express.static(path + '/dist/fonts'))\n\n/*** MONGOOSE ***/\nimport mongoose from 'mongoose'\nconst db = mongoose.connection\nmongoose.Promise = Promise\nmongoose.connect(process.env.MONGO_URI, { useMongoClient: true }, (err, db) => {\n  if (err) {\n    console.error('Failed to connect to database!')\n  } else {\n    console.log('Connected to database.')\n  }\n})\n\n/*** AUTHENTICATION ***/\nimport session from 'express-session'\nimport passport from 'passport'\n\nimport connectMongo from 'connect-mongo'\nconst MongoStore = connectMongo(session)\n\nimport bodyParser from 'body-parser'\nimport cookieParser from 'cookie-parser'\n\napp.use(bodyParser.urlencoded({ extended: false }))\napp.use(cookieParser())\n\nlet sess = {\n  secret: process.env.SECRET,\n  resave: false,\n  saveUninitialized: false,\n  cookie: {\n    path: '/',\n    httpOnly: false,\n    maxAge: 1800000 //30 minutes\n  },\n  store: new MongoStore({ mongooseConnection: db }, err => {\n    console.error(err)\n  }), //defaults to MemoryStore instance, which can cause memory leaks\n  name: 'id'\n}\n\nif (PROD) {\n  app.set('trust proxy', 1)\n  sess.cookie.secure = true //serve secure cookies in production\n  sess.cookie.httpOnly = true\n}\n\napp.use(session(sess))\napp.use(passport.initialize())\napp.use(passport.session())\n\n/*** ROUTES ***/\nimport { routes } from './routes/index.server.js'\nimport { authConfig } from './config/authConfig.js'\nauthConfig(passport)\nroutes(app, passport)\n\n/*** WEB SOCKETS ***/\nimport http from 'http'\nconst server = http.createServer(app)\nimport socket from 'socket.io'\nconst io = socket(server)\nimport ioEvents from './routes/socket.server.js'\nioEvents(io)\n\n/*** SERVE ***/\nconst port = process.env.PORT\nserver.listen(port, () => {\n  console.log('Server is listening on port ' + port + '.')\n})\n\n\n\n// WEBPACK FOOTER //\n// ./server/server.js","module.exports = require(\"es6-promise\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"es6-promise\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"isomorphic-fetch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"isomorphic-fetch\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"morgan\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"morgan\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"compression\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"compression\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"express-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-session\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"passport\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"connect-mongo\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"connect-mongo\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"cookie-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cookie-parser\"\n// module id = 15\n// module chunks = 0","'use strict'\n\n/*** ENVIRONMENT ***/\nconst path = process.cwd()\nimport dotenv from 'dotenv'\ndotenv.load()\n\n/*** DEVELOPMENT TOOLS ***/\nconst DEV = process.env.NODE_ENV === 'development'\nconst PROD = process.env.NODE_ENV === 'production'\n\n/*** CONTROLLERS ***/\nimport {\n  allPins,\n  deletePin,\n  login,\n  root,\n  savePin,\n  toggleLikePin,\n  unpinAll\n} from '../controllers/pinController.server.js'\n\n/*** ROUTES ***/\nexport const routes = (app, passport) => {\n  //Enforce HTTPS in production\n  if (PROD) {\n    app.use('*', (req, res, next) => {\n      if (req.headers['x-forwarded-proto'] !== 'https') {\n        console.log('Redirecting to', process.env.APP_URL + req.url)\n        res.redirect(process.env.APP_URL + req.url)\n      } else {\n        next() /* Continue to other routes if we're not redirecting */\n      }\n    })\n  }\n\n  //This is the name that will display in the client view\n  let name_view\n\n  //Authorization check\n  const permissions = (req, res, next) => {\n    if (req.isAuthenticated()) {\n      if (DEV) {\n        console.log('AUTHORIZATION SUCCESSFUL')\n      }\n      if (req.user.github.username) {\n        name_view = req.user.github.username\n      } else if (req.user.twitter.username) {\n        name_view = req.user.twitter.username\n      }\n      console.log('USER:', name_view)\n      return next()\n    } else {\n      if (DEV) {\n        console.log('USER NOT AUTHORIZED')\n      }\n      res.redirect('/login')\n    }\n  }\n\n  /*\n  //Allows session's name_view to be accessed by controllers\n  app.use((req, res, next) => {\n    res.locals.name_view = name_view\n    next()\n  })\n  */\n\n  //Root view - developers don't have to log in to see the App\n  if (PROD) {\n    app.route('/').get(permissions, root)\n  } else if (DEV) {\n    app.route('/').get(root)\n  }\n\n  //Login view\n  app.route('/login').get(login)\n\n  //GitHub and Passport.js authentication - URL\n  app.route('/auth/github').get(passport.authenticate('github'))\n\n  //GitHub and Passport.js authentication - callback\n  app.route('/auth/github/callback').get(\n    passport.authenticate('github', {\n      successRedirect: '/',\n      failureRedirect: '/login'\n    })\n  )\n\n  //Twitter Auth\n  app.route('/auth/twitter').get(passport.authenticate('twitter'))\n\n  //Twitter Auth\n  app.route('/auth/twitter/callback').get(\n    passport.authenticate('twitter', {\n      successRedirect: '/',\n      failureRedirect: '/login'\n    })\n  )\n\n  //Client-side API path to GET name_view\n  //Unclear why this won't work with a permissions check\n  app.route('/api/users/logged').get(\n    /*permissions,*/ (req, res) => {\n      if (DEV) {\n        console.log('Client requesting username...')\n      }\n      if (name_view) {\n        res.json(name_view)\n      } else {\n        console.log('name_view ERROR')\n        res.json('Stranger')\n      }\n    }\n  )\n\n  //Passport logout\n  app.route('/logout').get((req, res) => {\n    req.logout()\n    res.redirect('/login')\n  })\n\n  //Save new pin\n  //Unclear why this won't work with a permissions check\n  app.route('/api/savePin/:data').post(/*permissions,*/ savePin)\n\n  //Delete pin\n  //Unclear why this won't work with a permissions check\n  app.route('/api/deletePin/:data').delete(/*permissions,*/ deletePin)\n\n  //All pins\n  app.route('/api/allPins').get(allPins)\n\n  //Like or unlike a pin\n  //Unclear why this won't work with a permissions check\n  app.route('/api/toggleLikePin/:data').post(/*permissions,*/ toggleLikePin)\n\n  /*** DEBUGGING - No UI ***/\n  //Delete all pins\n  if (DEV) {\n    app.use('/api/unpinAll', unpinAll)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes/index.server.js","'use strict'\n\nimport mongoose from 'mongoose'\n\nconst Schema = mongoose.Schema\n\nconst Pin = new Schema({\n  created: {\n    type: Date,\n    required: true,\n    default: new Date(),\n    expires: '365d'\n  },\n  img: {\n    type: String,\n    default: '../../client/img/image.png' //This is redundant from default client state\n  },\n  likes: [String],\n  shares: [String],\n  title: { type: String, required: true },\n  owner: { type: String, required: true }\n})\n\nexport default mongoose.model('Pin', Pin)\n\n\n\n// WEBPACK FOOTER //\n// ./server/models/Pin.js","'use strict'\n\nconst GitHubStrategy = require('passport-github2').Strategy\nconst TwitterStrategy = require('passport-twitter').Strategy\nimport User from '../models/User.js'\n\nexport const authConfig = passport => {\n  passport.serializeUser((user, done) => {\n    done(null, user.id)\n  })\n\n  passport.deserializeUser((id, done) => {\n    User.findById(id, (err, user) => {\n      done(err, user)\n    })\n  })\n\n  passport.use(\n    new TwitterStrategy(\n      {\n        consumerKey: process.env.TWITTER_CONSUMER_KEY,\n        consumerSecret: process.env.TWITTER_CONSUMER_SECRET,\n        callbackURL: process.env.APP_URL + '/auth/twitter/callback/'\n      },\n      (token, tokenSecret, profile, cb) => {\n        process.nextTick(() => {\n          User.findOne(\n            {\n              'twitter.id': profile.id\n            },\n            (err, user) => {\n              if (err) {\n                return cb(err)\n              }\n              if (user) {\n                return cb(null, user)\n              } else {\n                const newUser = new User()\n\n                newUser.twitter.id = profile.id\n                newUser.twitter.username = profile.username\n                newUser.twitter.displayName = profile.displayName\n\n                newUser.save(err => {\n                  if (err) {\n                    throw err\n                  }\n                  return cb(null, newUser)\n                })\n              }\n            }\n          )\n        })\n      }\n    )\n  )\n\n  passport.use(\n    new GitHubStrategy(\n      {\n        clientID: process.env.GITHUB_KEY,\n        clientSecret: process.env.GITHUB_SECRET,\n        callbackURL: process.env.APP_URL + '/auth/github/callback/'\n      },\n      (token, refreshToken, profile, done) => {\n        process.nextTick(() => {\n          User.findOne(\n            {\n              'github.id': profile.id\n            },\n            (err, user) => {\n              if (err) {\n                return done(err)\n              }\n              if (user) {\n                return done(null, user)\n              } else {\n                const newUser = new User()\n\n                newUser.github.id = profile.id\n                newUser.github.username = profile.username\n                newUser.github.displayName = profile.displayName\n\n                newUser.save(err => {\n                  if (err) {\n                    throw err\n                  }\n                  return done(null, newUser)\n                })\n              }\n            }\n          )\n        })\n      }\n    )\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/config/authConfig.js","'use strict'\n\nconst mongoose = require('mongoose')\nconst Schema = mongoose.Schema\n\nconst User = new Schema({\n  github: {\n    id: String,\n    displayName: String,\n    username: String,\n    created: {\n      type: Date,\n      required: true,\n      default: new Date(),\n      expires: '365d'\n    }\n  },\n  twitter: {\n    id: String,\n    displayName: String,\n    username: String,\n    created: {\n      type: Date,\n      required: true,\n      default: new Date(),\n      expires: '365d'\n    }\n  }\n})\n\nexport default mongoose.model('User', User)\n\n\n\n// WEBPACK FOOTER //\n// ./server/models/User.js","module.exports = require(\"passport-github2\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport-github2\"\n// module id = 20\n// module chunks = 0","module.exports = require(\"passport-twitter\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport-twitter\"\n// module id = 21\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 22\n// module chunks = 0","module.exports = require(\"socket.io\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"socket.io\"\n// module id = 23\n// module chunks = 0","'use strict'\n\n/*** ENVIRONMENT ***/\nconst path = process.cwd()\nimport dotenv from 'dotenv'\ndotenv.load()\n\n/*** DEVELOPMENT TOOLS ***/\nconst DEV = process.env.NODE_ENV === 'development'\n\n/*** CONTROLLER ***/\nimport { updateAllPins } from '../controllers/pinController.server.js'\n\n/*** Web Socket Events ***/\nconst ioEvents = io => {\n  io.on('connection', serverSocket => {\n    if (DEV) {\n      console.log('Web Sockets connected.')\n    }\n    //Callback 1\n    serverSocket.emit('start', 'Regular communications received...')\n\n    //Callback 2\n    serverSocket.on('start', received => {\n      setInterval(() => {\n        updateAllPins(serverSocket, 'updateAllPins')\n      }, received)\n    })\n\n    io.on('disconnect', () => {\n      console.log('Web Sockets disconnected.')\n    })\n  })\n}\n\nexport default ioEvents\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes/socket.server.js"],"sourceRoot":""}